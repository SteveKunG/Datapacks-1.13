# compressed item
execute as @e[type=item,nbt=!{Item:{tag:{IsCompressedBeacon:1b}}},nbt={Item:{id:"minecraft:beacon",Count:1b},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:iron_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:iron_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:iron_block",Count:36b}},distance=..0.5] run function stevekung:portable_beacon/create_compressed_iron_beacon
execute as @e[type=item,nbt=!{Item:{tag:{IsCompressedBeacon:1b}}},nbt={Item:{id:"minecraft:beacon",Count:1b},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:gold_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:gold_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:gold_block",Count:36b}},distance=..0.5] run function stevekung:portable_beacon/create_compressed_gold_beacon
execute as @e[type=item,nbt=!{Item:{tag:{IsCompressedBeacon:1b}}},nbt={Item:{id:"minecraft:beacon",Count:1b},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:diamond_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:diamond_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:diamond_block",Count:36b}},distance=..0.5] run function stevekung:portable_beacon/create_compressed_diamond_beacon
execute as @e[type=item,nbt=!{Item:{tag:{IsCompressedBeacon:1b}}},nbt={Item:{id:"minecraft:beacon",Count:1b},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:emerald_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:emerald_block",Count:64b}},distance=..0.5] if entity @e[type=item,nbt={Item:{id:"minecraft:emerald_block",Count:36b}},distance=..0.5] run function stevekung:portable_beacon/create_compressed_emerald_beacon

# combine effect
######### Speed Effect #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_swiftness"}}},distance=..0.5] run function stevekung:portable_beacon/speed/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_swiftness"}}},distance=..0.5] run function stevekung:portable_beacon/speed/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_swiftness"}}},distance=..0.5] run function stevekung:portable_beacon/speed/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_swiftness"}}},distance=..0.5] run function stevekung:portable_beacon/speed/emerald

######### Regeneration #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/speed/regeneration/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/speed/regeneration/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/speed/regeneration/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/speed/regeneration/emerald


######### Haste Effect #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:golden_pickaxe",Count:1b,tag:{Enchantments:[{lvl:5s,id:"minecraft:efficiency"}]}}},distance=..0.5] run function stevekung:portable_beacon/haste/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:golden_pickaxe",Count:1b,tag:{Enchantments:[{lvl:5s,id:"minecraft:efficiency"}]}}},distance=..0.5] run function stevekung:portable_beacon/haste/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:golden_pickaxe",Count:1b,tag:{Enchantments:[{lvl:5s,id:"minecraft:efficiency"}]}}},distance=..0.5] run function stevekung:portable_beacon/haste/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:golden_pickaxe",Count:1b,tag:{Enchantments:[{lvl:5s,id:"minecraft:efficiency"}]}}},distance=..0.5] run function stevekung:portable_beacon/haste/emerald

######### Regeneration #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/haste/regeneration/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/haste/regeneration/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/haste/regeneration/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/haste/regeneration/emerald


######### Resistance Effect #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:scute",Count:9b}},distance=..0.5] run function stevekung:portable_beacon/resistance/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:scute",Count:9b}},distance=..0.5] run function stevekung:portable_beacon/resistance/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:scute",Count:9b}},distance=..0.5] run function stevekung:portable_beacon/resistance/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:scute",Count:9b}},distance=..0.5] run function stevekung:portable_beacon/resistance/emerald

######### Regeneration #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/resistance/regeneration/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/resistance/regeneration/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/resistance/regeneration/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/resistance/regeneration/emerald


######### Jump Boost Effect #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_leaping"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_leaping"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_leaping"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_leaping"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/emerald

######### Regeneration #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/regeneration/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/regeneration/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/regeneration/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/jump_boost/regeneration/emerald


######### Strength Effect #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_strength"}}},distance=..0.5] run function stevekung:portable_beacon/strength/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_strength"}}},distance=..0.5] run function stevekung:portable_beacon/strength/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_strength"}}},distance=..0.5] run function stevekung:portable_beacon/strength/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyEffect:1b}}},nbt={Item:{id:"minecraft:iron_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if block ~1 ~ ~ gold_block if block ~1 ~ ~1 gold_block if block ~1 ~ ~-1 gold_block if block ~ ~ ~1 gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~ gold_block if block ~-1 ~ ~1 gold_block if block ~-1 ~ ~-1 gold_block if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_strength"}}},distance=..0.5] run function stevekung:portable_beacon/strength/emerald

######### Regeneration #########
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsIronBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/strength/regeneration/iron
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsGoldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/strength/regeneration/gold
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsDiamondBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/strength/regeneration/diamond
execute as @e[type=item,nbt=!{Item:{tag:{HasApplyRegen:1b}}},nbt={Item:{id:"minecraft:gold_ingot",Count:1b,tag:{IsEmeraldBeacon:1b}},Age:100s}] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:potion",Count:1b,tag:{Potion:"minecraft:long_regeneration"}}},distance=..0.5] run function stevekung:portable_beacon/strength/regeneration/emerald


# split ingredient
execute as @e[type=item,nbt={Item:{tag:{IsIronBeacon:1b}}}] at @s if block ~ ~ ~ water run function stevekung:portable_beacon/split_beacon/iron
execute as @e[type=item,nbt={Item:{tag:{IsGoldBeacon:1b}}}] at @s if block ~ ~ ~ water run function stevekung:portable_beacon/split_beacon/gold
execute as @e[type=item,nbt={Item:{tag:{IsDiamondBeacon:1b}}}] at @s if block ~ ~ ~ water run function stevekung:portable_beacon/split_beacon/diamond
execute as @e[type=item,nbt={Item:{tag:{IsEmeraldBeacon:1b}}}] at @s if block ~ ~ ~ water run function stevekung:portable_beacon/split_beacon/emerald

# ticks
execute as @a[nbt=!{Inventory:[{tag:{SpeedBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_speed.ticks > PortableBeaconTemp pb_speed.ticks run scoreboard players set @s pb_speed.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{HasteBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_haste.ticks > PortableBeaconTemp pb_haste.ticks run scoreboard players set @s pb_haste.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{ResistanceBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_resis.ticks > PortableBeaconTemp pb_resis.ticks run scoreboard players set @s pb_resis.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{JumpBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_jump.ticks > PortableBeaconTemp pb_jump.ticks run scoreboard players set @s pb_jump.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{StrengthBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_str.ticks > PortableBeaconTemp pb_str.ticks run scoreboard players set @s pb_str.ticks 0

# regeneration
execute as @a[nbt=!{Inventory:[{tag:{SpeedBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_speed_r.ticks > PortableBeaconTemp pb_speed_r.ticks run scoreboard players set @s pb_speed_r.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{HasteBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_haste_r.ticks > PortableBeaconTemp pb_haste_r.ticks run scoreboard players set @s pb_haste_r.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{ResistanceBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_resis_r.ticks > PortableBeaconTemp pb_resis_r.ticks run scoreboard players set @s pb_resis_r.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{JumpBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_jump_r.ticks > PortableBeaconTemp pb_jump_r.ticks run scoreboard players set @s pb_jump_r.ticks 0
execute as @a[nbt=!{Inventory:[{tag:{StrengthBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_str_r.ticks > PortableBeaconTemp pb_str_r.ticks run scoreboard players set @s pb_str_r.ticks 0

execute as @a[nbt={Inventory:[{tag:{SpeedBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_speed.ticks = PortableBeaconTemp pb_speed.ticks run function stevekung:portable_beacon/speed/apply
execute as @a[nbt={Inventory:[{tag:{SpeedBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_speed.ticks > PortableBeaconTemp pb_speed.ticks run scoreboard players remove @s pb_speed.ticks 1

execute as @a[nbt={Inventory:[{tag:{HasteBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_haste.ticks = PortableBeaconTemp pb_haste.ticks run function stevekung:portable_beacon/haste/apply
execute as @a[nbt={Inventory:[{tag:{HasteBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_haste.ticks > PortableBeaconTemp pb_haste.ticks run scoreboard players remove @s pb_haste.ticks 1

execute as @a[nbt={Inventory:[{tag:{ResistanceBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_resis.ticks = PortableBeaconTemp pb_resis.ticks run function stevekung:portable_beacon/resistance/apply
execute as @a[nbt={Inventory:[{tag:{ResistanceBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_resis.ticks > PortableBeaconTemp pb_resis.ticks run scoreboard players remove @s pb_resis.ticks 1

execute as @a[nbt={Inventory:[{tag:{JumpBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_jump.ticks = PortableBeaconTemp pb_jump.ticks run function stevekung:portable_beacon/jump_boost/apply
execute as @a[nbt={Inventory:[{tag:{JumpBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_jump.ticks > PortableBeaconTemp pb_jump.ticks run scoreboard players remove @s pb_jump.ticks 1

execute as @a[nbt={Inventory:[{tag:{StrengthBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_str.ticks = PortableBeaconTemp pb_str.ticks run function stevekung:portable_beacon/strength/apply
execute as @a[nbt={Inventory:[{tag:{StrengthBeacon:1b,HasApplyRegen:0b}}]},gamemode=!spectator] at @s if score @s pb_str.ticks > PortableBeaconTemp pb_str.ticks run scoreboard players remove @s pb_str.ticks 1

# regeneration
execute as @a[nbt={Inventory:[{tag:{SpeedBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_speed_r.ticks = PortableBeaconTemp pb_speed_r.ticks run function stevekung:portable_beacon/speed/regeneration/apply
execute as @a[nbt={Inventory:[{tag:{SpeedBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_speed_r.ticks > PortableBeaconTemp pb_speed_r.ticks run scoreboard players remove @s pb_speed_r.ticks 1

execute as @a[nbt={Inventory:[{tag:{HasteBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_haste_r.ticks = PortableBeaconTemp pb_haste_r.ticks run function stevekung:portable_beacon/haste/regeneration/apply
execute as @a[nbt={Inventory:[{tag:{HasteBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_haste_r.ticks > PortableBeaconTemp pb_haste_r.ticks run scoreboard players remove @s pb_haste_r.ticks 1

execute as @a[nbt={Inventory:[{tag:{ResistanceBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_resis_r.ticks = PortableBeaconTemp pb_resis_r.ticks run function stevekung:portable_beacon/resistance/regeneration/apply
execute as @a[nbt={Inventory:[{tag:{ResistanceBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_resis_r.ticks > PortableBeaconTemp pb_resis_r.ticks run scoreboard players remove @s pb_resis_r.ticks 1

execute as @a[nbt={Inventory:[{tag:{JumpBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_jump_r.ticks = PortableBeaconTemp pb_jump_r.ticks run function stevekung:portable_beacon/jump_boost/regeneration/apply
execute as @a[nbt={Inventory:[{tag:{JumpBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_jump_r.ticks > PortableBeaconTemp pb_jump_r.ticks run scoreboard players remove @s pb_jump_r.ticks 1

execute as @a[nbt={Inventory:[{tag:{StrengthBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_str_r.ticks = PortableBeaconTemp pb_str_r.ticks run function stevekung:portable_beacon/strength/regeneration/apply
execute as @a[nbt={Inventory:[{tag:{StrengthBeacon:1b,HasApplyRegen:1b}}]},gamemode=!spectator] at @s if score @s pb_str_r.ticks > PortableBeaconTemp pb_str_r.ticks run scoreboard players remove @s pb_str_r.ticks 1